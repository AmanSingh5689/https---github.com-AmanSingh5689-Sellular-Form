<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Montserrat:wght@200;300;500&family=Rubik:wght@400;500;600&family=Supermercado+One&display=swap"
      rel="stylesheet"
    />
    <title>Document</title>
  </head>
  <body>
    <header class="header">
      <img src="sellular.png" alt="" />
      <h2>Sellular in your college.</h2>
    </header>
    <div class="form">
      <form method="POST" name="google-sheet">
        <label for="name">Name</label>
        <input
          type="text"
          id="name"
          name="Name"
          placeholder="John Doe"
          required
        />

        <label for="college">Your College</label>
        <input
          type="text"
          id="college"
          name="College"
          placeholder="College Name"
          required
        />

        <label for="college-mail">College Email</label>
        <input
          type="email"
          id="collegeMail"
          name="College-Email"
          placeholder="name@college.ac.in"
          required
        />

        <label for="suggestions"
          >How do you think sellular can help in your College?</label
        >
        <textarea
          maxlength="400"
          type="text"
          id="suggestions"
          name="Suggestions"
          placeholder="Write something..."
          required
        ></textarea>

        <label for="mobile">Mobile</label>
        <input
          min="0"
          max="9999999999"
          maxlength="10"
          type="number"
          id="mobile"
          name="Mobile"
          placeholder="9878654XXX"
          required
        />

        <input type="submit" value="submit" id="submit" name="submit" />
      </form>
    </div>
    <script>
      const name = document.getElementById("name");
      const mobile = document.getElementById("mobile");
      const collegeMail = document.getElementById("collegeMail");
      const college = document.getElementById("college");
      const suggestions = document.getElementById("suggestions");
      document.querySelectorAll('input[type="number"]').forEach((input) => {
        input.oninput = () => {
          if (input.value.length > input.maxLength)
            input.value = input.value.slice(0, input.maxLength);
        };
      });
      const emptyField = function () {
        name.value = "";
        mobile.value = "";
        college.value = "";
        collegeMail.value = "";
        suggestions.value = "";
      };
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbyihtWyxPvKLhP6nXskoIiWUV5IWKbaCX_PgXpvSg4J2GKTzBl_IcXcE6I93_JdvH4HeA/exec";
      const form = document.forms["google-sheet"];
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) =>
            alert("Thanks for Contacting us..! We Will Contact You Soon...")
          )
          .catch((error) => console.error("Error!", error.message));
        emptyField();
      });
    </script>
  </body>
</html>
